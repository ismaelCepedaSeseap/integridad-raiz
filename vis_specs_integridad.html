<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visor Técnico: Integridad desde la Raíz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Quicksand', sans-serif; }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container { height: 350px; }
        }
        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f5f5f4; }
        ::-webkit-scrollbar-thumb { background: #d6d3d1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #a8a29e; }
        
        .browser-mockup {
            width: 100%;
            height: 600px;
            border: 1px solid #e7e5e4;
            border-radius: 12px;
            background: #fff;
            overflow: hidden;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
            display: flex;
            flex-direction: column;
        }
        .browser-header {
            height: 44px;
            background: #f5f5f4;
            border-bottom: 1px solid #e7e5e4;
            display: flex;
            align-items: center;
            padding: 0 16px;
            gap: 8px;
        }
        .browser-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        .browser-dot.red { background: #ef4444; }
        .browser-dot.yellow { background: #f59e0b; }
        .browser-dot.green { background: #10b981; }
        .browser-address-bar {
            flex-grow: 1;
            height: 28px;
            background: #fff;
            border-radius: 6px;
            border: 1px solid #e7e5e4;
            margin-left: 16px;
            margin-right: 16px;
            display: flex;
            align-items: center;
            padding-left: 12px;
            font-size: 12px;
            color: #78716c;
            font-family: monospace;
        }
        .animate-fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .preview-content {
            height: 100%;
            overflow-y: auto;
            padding-top: 30px; /* Space for notch */
        }
    </style>
</head>
<body class="bg-stone-50 text-stone-800 min-h-screen flex flex-col">

    <!-- Navigation -->
    <nav class="bg-white border-b border-stone-200 shadow-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center gap-3">
                    <div class="w-8 h-8 bg-emerald-600 rounded-lg flex items-center justify-center text-white font-bold text-lg">I</div>
                    <span class="font-bold text-xl tracking-tight text-stone-900">Integridad<span class="text-emerald-600">Specs</span></span>
                </div>
                <div class="flex space-x-2 md:space-x-4 items-center overflow-x-auto">
                    <button onclick="navTo('dashboard')" class="nav-btn px-3 py-2 rounded-md text-sm font-medium transition-colors text-emerald-600 bg-stone-50" id="nav-dashboard">Dashboard</button>
                    <button onclick="navTo('content-guide')" class="nav-btn px-3 py-2 rounded-md text-sm font-medium transition-colors text-stone-600 hover:text-emerald-600" id="nav-content-guide">Guía y Preview</button>
                    <button onclick="navTo('architecture')" class="nav-btn px-3 py-2 rounded-md text-sm font-medium transition-colors text-stone-600 hover:text-emerald-600" id="nav-architecture">Arquitectura</button>
                    <button onclick="navTo('database')" class="nav-btn px-3 py-2 rounded-md text-sm font-medium transition-colors text-stone-600 hover:text-emerald-600" id="nav-database">Base de Datos</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">

        <!-- DASHBOARD VIEW -->
        <section id="dashboard" class="view-section animate-fade-in space-y-8">
            <div class="bg-white rounded-xl shadow-sm border border-stone-200 p-8">
                <h1 class="text-3xl font-bold text-stone-900 mb-4">Estado del Proyecto</h1>
                <p class="text-lg text-stone-600 leading-relaxed max-w-3xl">Análisis general de la estructura de datos y requerimientos de la plataforma "Integridad desde la Raíz".</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">
                    <div class="bg-emerald-50 rounded-lg p-6 border border-emerald-100">
                        <h3 class="text-emerald-800 font-semibold uppercase text-xs mb-2">Entidades de Datos</h3>
                        <p class="text-4xl font-bold text-emerald-700">7</p>
                    </div>
                    <div class="bg-indigo-50 rounded-lg p-6 border border-indigo-100">
                        <h3 class="text-indigo-800 font-semibold uppercase text-xs mb-2">Páginas HTML</h3>
                        <p class="text-4xl font-bold text-indigo-700">5</p>
                    </div>
                    <div class="bg-amber-50 rounded-lg p-6 border border-amber-100">
                        <h3 class="text-amber-800 font-semibold uppercase text-xs mb-2">Puntos de Control</h3>
                        <p class="text-4xl font-bold text-amber-700">32</p>
                    </div>
                </div>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="bg-white rounded-xl shadow-sm border border-stone-200 p-6">
                    <h3 class="font-bold text-stone-700 mb-4">Distribución de Contenidos</h3>
                    <div class="chart-container"><canvas id="contentTypesChart"></canvas></div>
                </div>
                <div class="bg-white rounded-xl shadow-sm border border-stone-200 p-6">
                    <h3 class="font-bold text-stone-700 mb-4">Límites de Caracteres Promedio</h3>
                    <div class="chart-container"><canvas id="charLimitsChart"></canvas></div>
                </div>
            </div>
        </section>

        <!-- CONTENT GUIDE VIEW (WITH PREVIEW) -->
        <section id="content-guide" class="view-section hidden animate-fade-in space-y-6">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 h-full">
                
                <!-- Controls & Specs -->
                <div class="space-y-8 h-fit">
                    <!-- Form Controls -->
                    <div class="bg-white rounded-[2.5rem] shadow-lg border border-stone-100 overflow-hidden">
                        <div class="h-32 bg-cover bg-center relative" style="background-image: url('images/banner2.png');">
                            <div class="absolute inset-0 bg-gradient-to-t from-stone-900/60 to-transparent"></div>
                            <div class="absolute bottom-6 left-8 text-white">
                                <h2 class="text-2xl font-bold shadow-sm">Simulador</h2>
                            </div>
                        </div>
                        <div class="p-8 pt-6">
                            <p class="text-stone-500 mb-6 text-sm font-medium">Prueba cómo se verá el contenido antes de enviarlo a producción.</p>
                            
                            <div class="space-y-6">
                                <div>
                                    <label class="block text-xs font-bold uppercase text-stone-500 mb-2">Tipo de Sección</label>
                                    <select id="previewType" onchange="updateFormFields()" class="w-full rounded-xl border-stone-200 shadow-sm p-3 border bg-stone-50 focus:ring-emerald-500 focus:border-emerald-500 transition-all">
                                        <option value="states">Barra de Estados</option>
                                        <option value="slider">Slider Principal / Árbol</option>
                                        <option value="evento">Tarjeta de Evento</option>
                                        <option value="cine">Sección Cine</option>
                                        <option value="material">Material Descargable</option>
                                    </select>
                                </div>

                                <div id="formFields" class="space-y-5">
                                    <!-- Dynamic Fields injected by JS -->
                                </div>

                                <div class="pt-6 border-t border-stone-100">
                                    <div class="flex items-center gap-3 text-xs text-amber-700 bg-amber-50 p-4 rounded-2xl border border-amber-100">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" /></svg>
                                        <span id="charCountWarning" class="font-semibold">Respetar límites de caracteres para evitar cortes.</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Specs Table -->
                    <div class="bg-white rounded-[2.5rem] shadow-lg border border-stone-100 overflow-hidden group hover:shadow-xl transition-all duration-300">
                        <div class="h-24 bg-cover bg-center relative" style="background-image: url('images/banner1.png');">
                             <div class="absolute inset-0 bg-emerald-900/80 backdrop-blur-sm"></div>
                             <div class="absolute inset-0 flex items-center px-8">
                                <h3 class="text-xl font-bold text-white flex items-center gap-3">
                                    <div class="p-2 bg-white/20 rounded-lg backdrop-blur-md">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>
                                    </div>
                                    Especificaciones
                                </h3>
                             </div>
                        </div>
                        <div class="p-8">
                            <table class="w-full text-sm text-left">
                                <thead class="text-xs text-stone-400 uppercase bg-stone-50/50">
                                    <tr>
                                         <th class="px-4 py-3 rounded-l-xl font-bold">Campo</th>
                                         <th class="px-4 py-3 rounded-r-xl font-bold text-right">Límite</th>
                                    </tr>
                                </thead>
                                <tbody id="specsTableBody" class="divide-y divide-stone-100">
                                    <!-- Dynamic content -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Preview Mockup -->
                <div class="flex flex-col items-center justify-start pt-4 w-full">
                    <div class="browser-mockup w-full">
                        <div class="browser-header">
                            <div class="browser-dot red"></div>
                            <div class="browser-dot yellow"></div>
                            <div class="browser-dot green"></div>
                            <div class="browser-address-bar">
                                https://integridad-raiz.mx/preview
                            </div>
                        </div>
                        <div id="previewScreen" class="preview-content bg-stone-100 text-left w-full h-full overflow-y-auto">
                            <!-- Preview Content -->
                        </div>
                    </div>
                    <p class="text-xs text-stone-400 mt-4 text-center">Vista previa modo Navegador (Desktop)</p>
                </div>
            </div>
        </section>

        <!-- ARCHITECTURE VIEW -->
        <section id="architecture" class="view-section hidden animate-fade-in space-y-8">
            <div class="bg-white p-8 rounded-xl shadow-sm border border-stone-200">
                <h2 class="text-2xl font-bold mb-6">Mapa del Sitio</h2>
                <div class="flex flex-col items-center space-y-4">
                    <!-- HTML-based Diagram -->
                    <div class="p-4 bg-blue-50 border border-blue-200 rounded-lg w-64 text-center font-bold text-blue-800 shadow-sm">
                        index.html (Inicio)
                    </div>
                    <div class="h-8 w-0.5 bg-stone-300"></div>
                    <div class="grid grid-cols-3 gap-4 w-full max-w-2xl">
                        <div class="flex flex-col items-center">
                            <div class="p-3 bg-green-50 border border-green-200 rounded-lg w-full text-center text-sm font-semibold text-green-800 shadow-sm">
                                eventos.html
                            </div>
                            <div class="h-4 w-0.5 bg-stone-300"></div>
                            <div class="p-2 bg-yellow-50 border border-yellow-200 rounded-lg w-full text-center text-xs text-yellow-800">
                                detalle_evento.html
                            </div>
                        </div>
                        <div class="flex flex-col items-center">
                            <div class="p-3 bg-green-50 border border-green-200 rounded-lg w-full text-center text-sm font-semibold text-green-800 shadow-sm">
                                cine.html
                            </div>
                        </div>
                        <div class="flex flex-col items-center">
                            <div class="p-3 bg-green-50 border border-green-200 rounded-lg w-full text-center text-sm font-semibold text-green-800 shadow-sm">
                                material.html
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="bg-white p-8 rounded-xl shadow-sm border border-stone-200">
                <h2 class="text-2xl font-bold mb-6">Archivos de Datos (JSON/JS)</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="p-4 border rounded-lg hover:bg-stone-50 transition">
                        <div class="font-mono text-sm text-purple-600 font-bold">events-page-data.js</div>
                        <div class="text-xs text-stone-500 mt-1">Contiene listado principal de eventos y detalles.</div>
                    </div>
                    <div class="p-4 border rounded-lg hover:bg-stone-50 transition">
                        <div class="font-mono text-sm text-purple-600 font-bold">cine-page-data.js</div>
                        <div class="text-xs text-stone-500 mt-1">Catálogo de videos y metadatos de YouTube.</div>
                    </div>
                    <div class="p-4 border rounded-lg hover:bg-stone-50 transition">
                        <div class="font-mono text-sm text-purple-600 font-bold">material-data.js</div>
                        <div class="text-xs text-stone-500 mt-1">Recursos descargables y filtros por estado.</div>
                    </div>
                    <div class="p-4 border rounded-lg hover:bg-stone-50 transition">
                        <div class="font-mono text-sm text-purple-600 font-bold">states-data.js</div>
                        <div class="text-xs text-stone-500 mt-1">Información estática de estados y redes sociales.</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- DATABASE VIEW -->
        <section id="database" class="view-section hidden animate-fade-in space-y-8">
            <div class="bg-white p-8 rounded-xl shadow-sm border border-stone-200">
                <h2 class="text-2xl font-bold mb-6">Esquema de Base de Datos</h2>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-stone-200 text-sm">
                        <thead class="bg-stone-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-bold text-stone-500 uppercase tracking-wider">Tabla</th>
                                <th class="px-6 py-3 text-left text-xs font-bold text-stone-500 uppercase tracking-wider">Columnas Clave</th>
                                <th class="px-6 py-3 text-left text-xs font-bold text-stone-500 uppercase tracking-wider">Relaciones</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-stone-200">
                            <tr>
                                <td class="px-6 py-4 font-mono font-medium text-blue-600">eventos</td>
                                <td class="px-6 py-4 text-stone-600">id, titulo, slug, fecha, ubicacion, imagen_principal</td>
                                <td class="px-6 py-4 italic text-stone-500">FK -> estados.id</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 font-mono font-medium text-blue-600">estados</td>
                                <td class="px-6 py-4 text-stone-600">id, nombre, slug, url_logo</td>
                                <td class="px-6 py-4 italic text-stone-500">PK Principal</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 font-mono font-medium text-blue-600">materiales</td>
                                <td class="px-6 py-4 text-stone-600">id, titulo, tipo_archivo, url_descarga</td>
                                <td class="px-6 py-4 italic text-stone-500">FK -> estados.id</td>
                            </tr>
                             <tr>
                                <td class="px-6 py-4 font-mono font-medium text-blue-600">videos_cine</td>
                                <td class="px-6 py-4 text-stone-600">id, titulo, youtube_id, hashtag</td>
                                <td class="px-6 py-4 italic text-stone-500">FK -> estados.id</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

    </main>

    <script>
        // Navigation Logic
        function navTo(viewId) {
            // Hide all sections
            document.querySelectorAll('.view-section').forEach(el => el.classList.add('hidden'));
            // Show target section
            document.getElementById(viewId).classList.remove('hidden');
            
            // Update buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('text-emerald-600', 'bg-stone-50');
                btn.classList.add('text-stone-600');
            });
            const activeBtn = document.getElementById('nav-' + viewId);
            activeBtn.classList.remove('text-stone-600');
            activeBtn.classList.add('text-emerald-600', 'bg-stone-50');
        }

        // Charts Initialization
        document.addEventListener('DOMContentLoaded', function() {
            // Content Types Chart
            const ctx1 = document.getElementById('contentTypesChart').getContext('2d');
            new Chart(ctx1, {
                type: 'doughnut',
                data: {
                    labels: ['Eventos', 'Videos Cine', 'Materiales', 'Estados', 'Sliders'],
                    datasets: [{
                        data: [12, 8, 15, 3, 5],
                        backgroundColor: ['#10b981', '#6366f1', '#f59e0b', '#ef4444', '#3b82f6'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'right' } }
                }
            });

            // Char Limits Chart
            const ctx2 = document.getElementById('charLimitsChart').getContext('2d');
            new Chart(ctx2, {
                type: 'bar',
                data: {
                    labels: ['Título Evento', 'Desc. Evento', 'Título Video', 'Desc. Material'],
                    datasets: [{
                        label: 'Caracteres Máximos',
                        data: [60, 200, 50, 100],
                        backgroundColor: '#a8a29e',
                        borderRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { y: { beginAtZero: true } }
                }
            });

            // Initialize Preview Form
            updateFormFields();
        });

        // Live Preview Logic
        const previewConfig = {
            states: {
                fields: [
                    { id: 'name', label: 'Nombre Estado', type: 'text', max: 30, placeholder: 'Ej: Puebla' },
                    { id: 'link', label: 'Enlace', type: 'text', max: 100, placeholder: '#' }
                ],
                render: (data) => `
                    <div class="w-full bg-white border-b border-stone-200 p-4">
                        <div class="max-w-4xl mx-auto flex items-center justify-between">
                            <div class="flex items-center gap-4">
                                <img src="images/logo_puebla.png" class="w-10 h-10 object-contain" alt="Logo">
                                <span class="font-bold text-stone-700">${data.name || 'Nombre Estado'}</span>
                            </div>
                            <a href="#" class="text-emerald-600 hover:text-emerald-700 text-sm font-medium">Ver detalles &rarr;</a>
                        </div>
                    </div>
                    <div class="p-8 text-center text-stone-400 text-sm">Contenido de la página...</div>
                `
            },
            slider: {
                fields: [
                    { id: 'title', label: 'Título Principal', type: 'text', max: 50, placeholder: 'Integridad desde la Raíz' },
                    { id: 'subtitle', label: 'Subtítulo', type: 'text', max: 100, placeholder: 'Un compromiso con el futuro' },
                    { id: 'cta', label: 'Texto Botón', type: 'text', max: 20, placeholder: 'Conoce más' }
                ],
                render: (data) => `
                    <div class="relative w-full h-96 bg-stone-900 flex items-center justify-center overflow-hidden bg-cover bg-center" style="background-image: url('images/banner1.png');">
                        <div class="absolute inset-0 bg-gradient-to-r from-stone-900/80 to-stone-900/40 z-10"></div>
                        <div class="relative z-20 text-center text-white px-4">
                            <h1 class="text-4xl md:text-5xl font-bold mb-4 tracking-tight">${data.title || 'Título Principal'}</h1>
                            <p class="text-lg md:text-xl text-stone-200 mb-8 max-w-2xl mx-auto">${data.subtitle || 'Subtítulo descriptivo del banner principal.'}</p>
                            <button class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-8 rounded-full transition transform hover:scale-105">
                                ${data.cta || 'Acción Principal'}
                            </button>
                        </div>
                    </div>
                `
            },
            evento: {
                fields: [
                    { id: 'title', label: 'Título', type: 'text', max: 60, placeholder: 'Ej: Puebla en Movimiento' },
                    { id: 'desc', label: 'Descripción', type: 'textarea', max: 200, placeholder: 'Breve resumen...' },
                    { id: 'date', label: 'Fecha', type: 'text', max: 20, placeholder: '25 Feb 2025' }
                ],
                render: (data) => `
                    <div class="p-8 bg-stone-50 min-h-full">
                        <div class="max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden md:max-w-2xl border border-stone-100">
                            <div class="md:flex">
                                <div class="md:shrink-0">
                                    <img class="h-48 w-full object-cover md:w-48" src="images/rally/f_01.jpg" alt="Evento">
                                </div>
                                <div class="p-8">
                                    <div class="uppercase tracking-wide text-sm text-emerald-600 font-semibold">Próximo Evento</div>
                                    <a href="#" class="block mt-1 text-lg leading-tight font-medium text-black hover:underline">${data.title || 'Título del Evento'}</a>
                                    <p class="mt-2 text-stone-500">${data.desc || 'Descripción del evento...'}</p>
                                    <div class="mt-4 flex items-center text-stone-500 text-sm">
                                        <svg class="h-4 w-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                                        ${data.date || 'Fecha'}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `
            },
            cine: {
                fields: [
                    { id: 'title', label: 'Título Video', type: 'text', max: 50, placeholder: 'Título del video' },
                    { id: 'hashtag', label: 'Hashtag', type: 'text', max: 20, placeholder: '#Hashtag' }
                ],
                render: (data) => `
                    <div class="bg-stone-900 min-h-full p-8 text-white flex flex-col items-center">
                        <div class="max-w-3xl w-full">
                            <div class="mb-6 border-l-4 border-emerald-500 pl-4">
                                <h3 class="text-2xl font-bold italic">${data.title || 'Título del Video'}</h3>
                                <p class="text-emerald-400 text-sm font-bold uppercase mt-1 tracking-widest">${data.hashtag || '#CINEMA'}</p>
                            </div>
                            <div class="aspect-video bg-black rounded-lg shadow-2xl flex items-center justify-center border border-stone-800 relative group cursor-pointer overflow-hidden bg-cover bg-center" style="background-image: url('images/Gemini_Generated_Image_615ksp615ksp615k.png');">
                                <div class="absolute inset-0 bg-black/40 group-hover:bg-black/20 transition-all duration-300"></div>
                                <div class="w-16 h-16 rounded-full bg-white/10 flex items-center justify-center group-hover:bg-emerald-600 transition duration-300 backdrop-blur-sm z-10">
                                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20"><path d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" /></svg>
                                </div>
                                <span class="absolute bottom-4 right-4 bg-black/80 px-2 py-1 text-xs rounded font-mono z-10">10:24</span>
                            </div>
                        </div>
                    </div>
                `
            },
            material: {
                fields: [
                    { id: 'title', label: 'Título Archivo', type: 'text', max: 60, placeholder: 'Informe Anual' },
                    { id: 'type', label: 'Tipo', type: 'text', max: 10, placeholder: 'PDF' },
                    { id: 'size', label: 'Tamaño', type: 'text', max: 10, placeholder: '2.4 MB' }
                ],
                render: (data) => `
                    <div class="p-8 bg-stone-50 min-h-full flex justify-center">
                        <div class="bg-white p-6 rounded-lg shadow-sm border border-stone-200 w-full max-w-sm hover:shadow-md transition cursor-pointer group">
                            <div class="flex items-start justify-between mb-4">
                                <div class="p-3 bg-amber-50 rounded-lg text-amber-600 group-hover:bg-amber-100 transition">
                                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                                </div>
                                <span class="text-xs font-mono text-stone-400 bg-stone-100 px-2 py-1 rounded">${data.type || 'EXT'}</span>
                            </div>
                            <h4 class="font-bold text-stone-800 mb-1 group-hover:text-amber-700 transition">${data.title || 'Nombre del Archivo'}</h4>
                            <p class="text-xs text-stone-500 mb-4">${data.size || '0 MB'} • Descarga directa</p>
                            <button class="w-full py-2 px-4 bg-stone-900 text-white text-sm font-medium rounded-lg hover:bg-stone-800 transition flex items-center justify-center gap-2">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                                Descargar
                            </button>
                        </div>
                    </div>
                `
            }
        };

        function updateFormFields() {
            const type = document.getElementById('previewType').value;
            const config = previewConfig[type];
            const container = document.getElementById('formFields');
            const specsBody = document.getElementById('specsTableBody');
            
            // Generate Form Fields
            container.innerHTML = config.fields.map(field => `
                <div>
                    <label class="block text-xs font-bold text-stone-600 mb-2">${field.label}</label>
                    ${field.type === 'textarea' 
                        ? `<textarea oninput="updatePreview()" id="input_${field.id}" maxlength="${field.max}" class="w-full rounded-xl border-stone-200 shadow-sm p-3 text-sm border bg-stone-50 focus:ring-emerald-500 focus:border-emerald-500 focus:bg-white transition-all" rows="2" placeholder="${field.placeholder}"></textarea>`
                        : `<input oninput="updatePreview()" type="text" id="input_${field.id}" maxlength="${field.max}" class="w-full rounded-xl border-stone-200 shadow-sm p-3 text-sm border bg-stone-50 focus:ring-emerald-500 focus:border-emerald-500 focus:bg-white transition-all" placeholder="${field.placeholder}">`
                    }
                </div>
            `).join('');

            // Generate Specs Table
            if (specsBody) {
                specsBody.innerHTML = config.fields.map(field => `
                    <tr class="hover:bg-stone-50 transition-colors group">
                        <td class="px-4 py-3 font-medium text-stone-700 group-hover:text-emerald-600 transition-colors">${field.label}</td>
                        <td class="px-4 py-3 text-right">
                            <span class="inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-bold bg-stone-100 text-stone-600 group-hover:bg-emerald-50 group-hover:text-emerald-700 transition-colors">
                                ${field.max} chars
                            </span>
                        </td>
                    </tr>
                `).join('');
            }

            updatePreview();
        }

        function updatePreview() {
            const type = document.getElementById('previewType').value;
            const config = previewConfig[type];
            const data = {};
            
            config.fields.forEach(field => {
                data[field.id] = document.getElementById(`input_${field.id}`).value;
            });

            document.getElementById('previewScreen').innerHTML = config.render(data);
        }
    </script>
</body>
</html>
